<!-- 
	Purpose of Test:
    Templates with name mapping
-->
<XflowTest>
    <Input>
        <data id="template1">
            <float name="A" replaceby="tB" >0.1</float>
            <float name="B" replaceby="tA" >0.2</float>
        </data>
        
        <data id="template2" template="template1" filter="rename( {A: B, B: A} )" >
            <float name="tA" >1.1</float>
            <float name="tB" >1.2</float>
            <float name="C" replaceby="tB" >1.3</float>
            <float name="D" replaceby="tA" >1.4</float>
        </data>
       
         <data id="data1" template="#template2" filter="rename( {MyA: A, MyB: B, MyC: C} )" >        
            <float name="tA" >2.1</float>  
            <float name="tB" >2.2</float>
         </data>
    </Input>
    <TestProcess>
        <Check title="Check template2 output" data="#template2">
            <MatchData name="A" type="float" >1.1</MatchData>
            <MatchData name="B" type="float" >1.2</MatchData>
            <MatchData name="C" type="float" >1.3</MatchData>
            <MatchData name="D" type="float" >1.4</MatchData>
            <MatchData name="tA" type="float" >1.1</MatchData>
            <MatchData name="tB" type="float" >1.2</MatchData>
        </Check>
        <Check title="Check instance output" data="#data1">
            <MatchData name="MyA" type="float" >1.1</MatchData>
            <MatchData name="MyB" type="float" >1.2</MatchData>
            <MatchData name="MyC" type="float" >2.2</MatchData>
            <MatchData name="D" type="float" >2.1</MatchData>
            <MatchData name="tA" type="float" >1.1</MatchData>
            <MatchData name="tB" type="float" >1.2</MatchData>
        </Check>
        
    </TestProcess>
</XflowTest>
