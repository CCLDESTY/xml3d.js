<?xml version="1.0" encoding="utf-8" ?>
<xml3d xmlns="http://www.xml3d.org/2009/xml3d" >
    <shader id="redShader" script="urn:xml3d:shader:flat">
        <float3 name="diffuseColor">1 0.5 0.5</float3>
        <float name="ambientIntensity">1.0</float>
    </shader>
    <shader id="pinkShader" script="urn:xml3d:shader:flat">
        <float3 name="diffuseColor">1 0.5 1</float3>
        <float name="ambientIntensity">1.0</float>
    </shader>
    <shader id="blueShader" script="urn:xml3d:shader:flat">
        <float3 name="diffuseColor">0 0 1</float3>
        <float name="ambientIntensity">1.0</float>
    </shader>
    <shader id="greenShader" script="urn:xml3d:shader:flat">
        <float3 name="diffuseColor">0 1 0</float3>
        <float name="ambientIntensity">1.0</float>
    </shader>

    <data id="rectBase" >
        <int name="index">0 1 2 1 2 3</int>

        <float3 name="normal">0.0 0.0 1.0 0.0 0.0 1.0 0.0 0.0 1.0 0.0 0.0 1.0</float3>
    </data>
    <data id="shortIndex" >
        <int name="index">0 1 2</int>
    </data>
    <data id="position1" >
        <float3 id="positions" name="position">-1.0 -1.0 -10.0 1.0 -1.0 -10.0 -1.0 1.0 -10.0 1.0 1.0 -10.0</float3>
    </data>
    <data id="position2" >
       <float3 id="positions" name="position">1.0 -1.0 -10.0  3.0 -1.0 -10.0  1.0 1.0 -10.0  3.0 1.0 -10.0</float3>
    </data>
    <data id="position3" >
       <data src="#position1" />
       <float4x4 name="meshTransform" >
            0.5 0 0 0
            0 0.5 0 0
            0 0 1 0
            0 0 0 1
        </float4x4>
    </data>


    <datalist id="datalist1" >
        <subdata name="mesh1" meshtype="triangles" shader="#redShader" >
            <data src="#rectBase" />
            <data src="#position1" />
        </subdata>
    </datalist>
    <datalist id="datalist2" >
        <subdata name="base" id="baseSubData" >
            <data src="#rectBase" />
        </subdata>
        <subdata name="mesh1" includes="base" meshtype="triangles" shader="#redShader"  >
            <data src="#position1" />
        </subdata>
        <subdata name="mesh2" includes="base" meshtype="triangles" shader="#blueShader" id="innerSubData" >
            <data src="#position2" />
        </subdata>
    </datalist>
    <datalist id="datalist2Alt" >
        <subdata name="blaBlubb" meshtype="triangles" shader="#pinkShader"  >
            <data src="#rectBase" />
            <data src="#position3" />
        </subdata>
        <subdata name="mesh2" meshtype="triangles" shader="#blueShader"  >
            <data src="#rectBase" />
            <data src="#position2" />
        </subdata>
    </datalist>

    <datalist id="datalist3" src="#datalist2">
        <subdata name="mesh3" includes="base" meshtype="triangles" shader="#greenShader" style="transform: translateX(-2px)" >
            <data src="#position3" />
        </subdata>
    </datalist>

</xml3d>
